---
/**
 * TechIcon - Composant d'icône SVG adaptative
 * Utilise currentColor pour s'adapter automatiquement à la couleur du parent
 */

interface Props {
  name: string;
  size?: number;
  strokeWidth?: number;
  class?: string;
}

const { name, size = 24, strokeWidth = 1.5, class: className = '' } = Astro.props;

const icons = {
  arrow: {
    viewBox: "0 0 24 24",
    path: "M5 12h14M12 5l7 7-7 7"
  },
  check: {
    viewBox: "0 0 24 24",
    path: "M20 6L9 17l-5-5"
  },
  star: {
    viewBox: "0 0 24 24",
    path: "M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"
  },
  mail: {
    viewBox: "0 0 24 24",
    path: "M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z M22 6l-10 7L2 6"
  },
  phone: {
    viewBox: "0 0 24 24",
    path: "M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"
  },
  menu: {
    viewBox: "0 0 24 24",
    path: "M3 12h18 M3 6h18 M3 18h18"
  },
  close: {
    viewBox: "0 0 24 24",
    path: "M18 6L6 18 M6 6l12 12"
  },
  external: {
    viewBox: "0 0 24 24",
    path: "M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6 M15 3h6v6 M10 14L21 3"
  },
  search: {
    viewBox: "0 0 24 24",
    path: "M11 19a8 8 0 1 0 0-16 8 8 0 0 0 0 16z M21 21l-4.35-4.35"
  },
  user: {
    viewBox: "0 0 24 24",
    path: "M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2 M12 11a4 4 0 1 0 0-8 4 4 0 0 0 0 8z"
  },
  globe: {
    viewBox: "0 0 24 24",
    path: "M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z M2 12h20 M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"
  },
  target: {
    viewBox: "0 0 24 24",
    path: "M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z M12 16a4 4 0 1 0 0-8 4 4 0 0 0 0 8z M12 12h.01"
  },
  zap: {
    viewBox: "0 0 24 24",
    path: "M13 2L3 14h9l-1 8 10-12h-9l1-8z"
  },
  code: {
    viewBox: "0 0 24 24",
    path: "M16 18l6-6-6-6 M8 6l-6 6 6 6"
  }
};

const icon = icons[name as keyof typeof icons];
---

{icon && (
  <svg
    width={size}
    height={size}
    viewBox={icon.viewBox}
    fill="none"
    stroke="currentColor"
    stroke-width={strokeWidth}
    stroke-linecap="round"
    stroke-linejoin="round"
    class={`tech-icon ${className}`}
    aria-hidden="true"
  >
    {icon.path.split(' M').slice(1).map((segment: string) => (
      <path d={`M${segment}`} />
    ))}
  </svg>
)}

<style>
  .tech-icon {
    display: inline-block;
    vertical-align: middle;
    flex-shrink: 0;
  }
</style>
