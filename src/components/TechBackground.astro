---
/**
 * TechBackground - Composant de fond abstrait technologique
 * Génère des backgrounds CSS sans images
 */

interface Props {
  variant?: 'grid' | 'gradient' | 'radial' | 'dots' | 'lines';
  overlay?: boolean;
  class?: string;
}

const {
  variant = 'grid',
  overlay = false,
  class: className = ''
} = Astro.props;

const variantClasses = {
  grid: 'tech-bg-grid',
  gradient: 'tech-bg-gradient',
  radial: 'tech-bg-radial',
  dots: 'tech-bg-dots',
  lines: 'tech-bg-lines'
};
---

<div class={`tech-background ${variantClasses[variant]} ${overlay ? 'tech-bg-overlay' : ''} ${className}`}>
  <slot />
</div>

<style>
  .tech-background {
    position: relative;
    isolation: isolate;
  }

  .tech-bg-grid {
    background-image:
      linear-gradient(rgba(91, 46, 255, 0.03) 1px, transparent 1px),
      linear-gradient(90deg, rgba(91, 46, 255, 0.03) 1px, transparent 1px);
    background-size: 40px 40px;
    background-position: -1px -1px;
  }

  .tech-bg-gradient {
    background: linear-gradient(135deg, rgba(91, 46, 255, 0.04) 0%, transparent 100%);
  }

  .tech-bg-radial {
    background: radial-gradient(circle at 50% 0%, rgba(91, 46, 255, 0.06), transparent 70%);
  }

  .tech-bg-dots {
    background-image: radial-gradient(circle, rgba(91, 46, 255, 0.08) 1px, transparent 1px);
    background-size: 20px 20px;
  }

  .tech-bg-lines {
    background-image:
      repeating-linear-gradient(
        45deg,
        transparent,
        transparent 10px,
        rgba(91, 46, 255, 0.02) 10px,
        rgba(91, 46, 255, 0.02) 20px
      );
  }

  .tech-bg-overlay::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(180deg,
      rgba(255, 255, 255, 0) 0%,
      rgba(255, 255, 255, 0.8) 50%,
      rgba(255, 255, 255, 0) 100%
    );
    pointer-events: none;
    z-index: -1;
  }

  @media (max-width: 768px) {
    .tech-bg-grid {
      background-size: 24px 24px;
    }
  }
</style>
